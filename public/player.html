<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, interactive-widget=resizes-visual" />
  <meta name="description" content="Play Questron â€” real-time multiplayer quiz" />
  <meta name="theme-color" content="#b8ff3c" />
  <meta name="robots" content="noindex" />
  <title>Play Â· Questron</title>
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="/styles.css?v=20260226" />
</head>
<body>
  <div id="timerBar"><div id="timerBarFill"></div></div>

  <!-- â”€â”€ JOIN / NAME SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="screenJoin" class="page-center screen hidden">
    <div style="width:100%;max-width:360px;display:flex;flex-direction:column;align-items:center;gap:var(--gap-lg);">
      <div style="text-align:center;">
        <div class="pulse-logo">
          <span class="logo-quest">Quest</span>ron<span class="logo-pip"></span>
        </div>
      </div>
      <div class="glass" style="width:100%;padding:var(--gap-xl) var(--gap-lg);">
        <div id="joinGameBadge" style="text-align:center;font-family:var(--font-body);font-size:0.85rem;font-weight:700;color:var(--spark);margin-bottom:var(--gap-md);letter-spacing:0.05em;"></div>
        <label style="font-family:var(--font-display);font-size:0.85rem;font-weight:600;letter-spacing:0.08em;text-transform:uppercase;color:var(--text-subtle);display:block;margin-bottom:var(--gap-sm);">
          Your Name
        </label>
        <input class="input" id="nameInput" type="text" maxlength="20"
          placeholder="Enter your nameâ€¦" autocomplete="off" autofocus />
        <button class="btn btn-primary btn-lg" id="joinBtn"
          style="width:100%;margin-top:var(--gap-md);">Join Game â†’</button>
        <div id="joinMsg" style="margin-top:var(--gap-sm);min-height:1.4em;font-size:0.88rem;color:var(--red);"></div>
      </div>
    </div>
  </div>

  <!-- â”€â”€ WAITING SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="screenWaiting" class="page-center screen hidden">
    <div style="display:flex;flex-direction:column;align-items:center;gap:var(--gap-lg);text-align:center;">
      <div class="waiting-frame">
        <div class="waiting-rings">
          <div class="waiting-ring"></div>
          <div class="waiting-ring"></div>
          <div class="waiting-ring"></div>
          <div class="waiting-dot"></div>
        </div>
        <div class="waiting-name-display" id="waitingName"></div>
        <div class="waiting-game-title" id="waitingGameTitle"></div>
        <div class="waiting-label">Waiting for host to start</div>
      </div>
    </div>
  </div>

  <!-- â”€â”€ PLAY SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="screenPlay" class="container screen hidden" style="padding-top:16px;padding-bottom:32px;">
    <!-- Top bar: progress + timer -->
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--gap-md);">
      <div>
        <div style="display:flex;align-items:center;gap:8px;">
          <div class="question-progress-pill">
            <span id="qIndex">1</span> / <span id="qTotal">1</span>
          </div>
          <div class="rank-badge" id="rankBadge" style="display:none;"></div>
        </div>
        <div class="progress-bar-track" style="margin-top:6px;width:120px;">
          <div class="progress-bar-fill" id="playerProgressBar"></div>
        </div>
      </div>
      <div class="timer-container" id="playerTimerWrap" style="display:none;">
        <svg class="timer-ring" viewBox="0 0 100 100">
          <defs><linearGradient id="plasmaGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#b8ff3c"/><stop offset="50%" stop-color="#ffd23f"/><stop offset="100%" stop-color="#ff5c1a"/></linearGradient></defs>
          <circle class="timer-ring__bg" cx="50" cy="50" r="45"/>
          <circle class="timer-ring__fill" cx="50" cy="50" r="45"/>
        </svg>
        <span class="timer-number">--</span>
      </div>
    </div>

    <!-- Question card -->
    <div class="glass question-card" id="playerQuestionCard">
      <div class="question-text" id="qText"></div>
      <img id="qImage" class="ref-image hidden" alt="" />
    </div>

    <!-- Answers grid -->
    <div class="answers-grid" id="answers" style="margin-top:var(--gap-md);"></div>

    <!-- Emoji reactions -->
    <div class="reaction-bar" id="reactionBar" style="display:none;">
      <button class="reaction-btn" data-emoji="ğŸ‘" title="Clap">ğŸ‘</button>
      <button class="reaction-btn" data-emoji="ğŸ”¥" title="Fire">ğŸ”¥</button>
      <button class="reaction-btn" data-emoji="ğŸ˜‚" title="LOL">ğŸ˜‚</button>
      <button class="reaction-btn" data-emoji="ğŸ’€" title="Dead">ğŸ’€</button>
      <button class="reaction-btn" data-emoji="ğŸ‰" title="Party">ğŸ‰</button>
      <button class="reaction-btn" data-emoji="ğŸ¤¯" title="Mind blown">ğŸ¤¯</button>
    </div>

    <!-- Locked state placeholder (shown after answer) -->
    <div id="lockedState" class="glass locked-overlay hidden" style="margin-top:var(--gap-md);">
      <div class="locked-check">âœ“</div>
      <div class="locked-text">Answer locked in</div>
      <div class="locked-badge" id="lockedChoiceLabel" style="background:var(--accent-dim);border:1px solid var(--accent);"></div>
      <div class="muted" style="font-size:0.85rem;">Waiting for revealâ€¦</div>
    </div>

    <!-- Feedback area (shown on reveal) -->
    <div id="feedbackPanel" class="hidden" style="text-align:center;padding:var(--gap-xl) 0;">
      <div id="feedbackIcon" style="font-size:4rem;animation:feedbackIcon 0.5s cubic-bezier(0.34,1.56,0.64,1) both;"></div>
      <div id="feedbackDelta" style="font-family:var(--font-display);font-size:2.2rem;font-weight:700;color:var(--green);animation:deltaFloat 2.2s ease forwards;margin-top:var(--gap-sm);"></div>
      <div id="feedbackLabel" class="muted" style="margin-top:var(--gap-sm);font-size:1rem;font-weight:600;"></div>
      <div id="feedbackStreak" class="feedback-streak hidden"></div>
    </div>

    <audio id="music" src="/audio/countdown.mp3" loop preload="none"></audio>
    <audio id="revealAudio" src="/audio/reveal.mp3" preload="none"></audio>
  </div>

  <!-- â”€â”€ LEADERBOARD (between questions) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="screenLeaderboard" class="container screen hidden" style="padding-top:24px;">
    <div class="glass" style="padding:var(--gap-lg);">
      <h2 style="font-family:var(--font-display);font-size:1.3rem;margin-bottom:var(--gap-lg);">Live Standings</h2>
      <div class="race-board" id="board"></div>
    </div>
  </div>

  <!-- â”€â”€ PODIUM SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="screenOver" class="container screen hidden" style="padding-top:32px;text-align:center;">
    <h2 style="font-family:var(--font-display);font-size:1.8rem;font-weight:800;margin-bottom:var(--gap-sm);">Game Over!</h2>
    <div id="podiumWrap"></div>
    <div class="glass" style="max-width:480px;margin:var(--gap-xl) auto 0;padding:var(--gap-lg);">
      <ol class="leaderboard-list" id="finalBoard"></ol>
    </div>
    <button id="backToJoinBtn" class="btn btn-ghost btn-lg" style="margin-top:var(--gap-xl);">
      â† Play Again
    </button>
    <audio id="endAudio" src="/audio/end.mp3" preload="none"></audio>
  </div>

  <script src="/constants.js"></script>
  <script src="/player.js"></script>
</body>
</html>
